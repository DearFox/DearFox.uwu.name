<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<!-- <script type="text/javascript" src="js/jquery-3.6.0.min.js"></script> -->
	<script type="text/javascript" src="js/jquery-1.5.2.min.js"></script>
	<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@200;400;500&display=swap" rel="stylesheet">
	<title>DearFox | Uwu | Реф</title>
	<link rel="icon" type="image/png" href="https://visage.surgeplay.com/face/16/cdb909c2-499f-409c-8723-27c5b6effc20" />
	<style>
		body{
			margin: 0px;
			font-family: 'Montserrat', sans-serif;
			text-align: center;
		}
		.main{
			background:#1A1C1D;
			height: 100vh;
			display: flex;
			justify-content: center;
			align-items: center;
		}
		.card{
			background:#26292A;
			
			background-size: 100% 10px;
			height: 350px;
			width: 620px;
			box-shadow: 0 0 10px rgba(0,0,0,0.5);
			padding: 10px;
			border-radius: 10px;
			display: flex;
			justify-content: center;
			align-items: center;
		}
		.comming_soon{
			filter: drop-shadow(0 0 10px rgba(0,0,0,0.5));
		}
		h2{
			margin: 0px;
			font-size: xxx-large;
			color:#FA9A4E;
			padding-bottom: 32px;
		}
		h3 {
			color:#DBD8D3;
			padding-bottom: 32px;
		}
		a {
			text-decoration: underline;
			cursor: pointer;
			color: white;
		}
		.modal {
			display: none;
			position: absolute;
			//width: 100%;
			//height: 100%;
			//background: #00000000;
		}
		.modal_bg {
			display: none;
			position: absolute;
			width: 100%;
			height: 100%;
			background: #00000050;
		}
		.modal-warning {
      background:#26292A;
      height: 170px;
      width: 420px;
      box-shadow: 0 0 10px rgba(0,0,0,0.5);
			padding: 10px;
      border-radius: 10px;
			margin: 32px auto;
		}
		.modal-warning-buttons {
			//float: right;
		}
		.enter {
			width: 266px;
			background-color:#4caf50;
		}
		.close {
			float: right;
			background-color:#f44336;
		}
		.modal-warning-buttons > button {
			//height: 32px;
			//width: 100px;
			font-family: 'Montserrat', sans-serif;
    	font-weight: bold;
    	font-size: x-large;
    	color: #fff;
		}
		*{
    margin:0;
    padding:0;
}

body {
    background-color:#bababa;
    color:#fff;
    font:14px/1.3 Arial,sans-serif;
}

footer {
    background-color:#212121;
    bottom:0;
    box-shadow: 0 -1px 2px #111111;
    display:block;
    height:70px;
    left:0;
    position:fixed;
    width:100%;
    z-index:100;
}

footer h2{
    font-size:22px;
    font-weight:normal;
    left:50%;
    margin-left:-400px;
    padding:22px 0;
    position:absolute;
    width:540px;
}

footer a.stuts,a.stuts:visited{
    border:none;
    text-decoration:none;
    color:#fcfcfc;
    font-size:14px;
    left:50%;
    line-height:31px;
    margin:23px 0 0 110px;
    position:absolute;
    top:0;
}

footer .stuts span {
    font-size:22px;
    font-weight:bold;
    margin-left:5px;
}

.container {
    color:#000;
    margin:20px auto;
    position:relative;
    width:730px;
}

.column1 {
    float:left;
    width:500px;
}

.column2 {
    float:left;
    padding-left:20px;
    width:170px;
}

#panel {
    border:1px #000 solid;
    box-shadow:4px 6px 6px #444444;
    cursor:crosshair;
}

.column2 > div {
    margin-bottom:10px;
}

#swImage {
    border:1px #000 solid;
    box-shadow:2px 3px 3px #444444;
    cursor:pointer;
    height:25px;
    line-height:25px;

    border-radius:3px;
    -moz-border-radius:3px;
    -webkit-border-radius:3px;
}

#swImage:hover {
    margin-left:2px;
}

#preview {
    border:1px #000 solid;
    box-shadow:2px 3px 3px #444444;
    height:80px;
    width:80px;

    border-radius:3px;
    -moz-border-radius:3px;
    -webkit-border-radius:3px;
}

.column2 input[type=text] {
    float:right;
    width:110px;
}


	</style>
</head>
<body>
	<div class="container">
            <div class="column1">
                <canvas id="panel" width="500" height="333"></canvas>
            </div>
            <div class="column2">
                <div><input type="button" value="Next IMG" id="swImage" style="width: 170px;" /></div>
                <div>Color:</div>
                <!-- <div id="preview"></div> -->
                <div id="preview" style="display:inline-block; vertical-align:middle; width:80px; height:80px; border:1px #000 solid; box-shadow:2px 3px 3px #444444; border-radius:3px;"></div>
                <div id="selectedColor" style="display:inline-block; vertical-align:middle; width:80px; height:80px; line-height:80px; text-align:center; border:1px #000 solid; box-shadow:2px 3px 3px #444444; border-radius:3px;"></div>

                <div>Color data:</div>
                <div>R: <input type="text" id="rVal" /></div>
                <div>G: <input type="text" id="gVal" /></div>
                <div>B: <input type="text" id="bVal" /></div>
                <div>RGB: <input type="text" id="rgbVal" /></div>
                <div>RGBA: <input type="text" id="rgbaVal" /></div>
                <div>HEX: <input type="text" id="hexVal" /></div>
                <hr />
            </div>
            <div style="clear:both;"></div>
        </div>
        <script>
var canvas, ctx;
var images = ['img/2.png','img/0.jpg','img/1.png'];
var iActiveImage = 0;
var maxWidth = 500;   // максимальная ширина контейнера
var maxHeight = 1000;  // максимальная высота контейнера

$(function(){
    canvas = document.getElementById('panel');
    ctx = canvas.getContext('2d');

    function loadAndDraw(src) {
        var image = new Image();
        image.crossOrigin = ''; // если нужно
        image.onload = function() {
            // вычисляем новые размеры canvas, сохраняя соотношение сторон
            var iw = image.width, ih = image.height;
            var ratio = iw / ih;
            var targetW = maxWidth, targetH = Math.round(targetW / ratio);

            if (targetH > maxHeight) {
                targetH = maxHeight;
                targetW = Math.round(targetH * ratio);
            }

            // устанавливаем размеры canvas (элемента и атрибутов)
            canvas.width = targetW;
            canvas.height = targetH;

            // опционально: меняем CSS ширину/высоту (если нужно)
            canvas.style.width = targetW + 'px';
            canvas.style.height = targetH + 'px';

            // очищаем и рисуем изображение, масштабируя на весь canvas
            ctx.clearRect(0,0,canvas.width,canvas.height);
            ctx.drawImage(image, 0, 0, canvas.width, canvas.height);
        };
        image.src = src;
    }

    // начальная загрузка
    loadAndDraw(images[iActiveImage]);

    // переключение изображений
    $('#swImage').click(function(){
        iActiveImage = (iActiveImage + 1) % images.length;
        loadAndDraw(images[iActiveImage]);
    });

    // получение цвета: используем координаты относительно реального canvas размера
    $('#panel').mousemove(function(e) {
        var rect = canvas.getBoundingClientRect();
        var x = Math.floor((e.clientX - rect.left) * (canvas.width / rect.width));
        var y = Math.floor((e.clientY - rect.top) * (canvas.height / rect.height));
        if (x < 0 || y < 0 || x >= canvas.width || y >= canvas.height) return;
        var imageData = ctx.getImageData(x, y, 1, 1).data;
        var pixelColor = "rgba("+imageData[0]+","+imageData[1]+","+imageData[2]+","+ (imageData[3]/255) +")";
        $('#preview').css('backgroundColor', pixelColor);
    });

    $('#panel').click(function(e) {
    var rect = canvas.getBoundingClientRect();
    var x = Math.floor((e.clientX - rect.left) * (canvas.width / rect.width));
    var y = Math.floor((e.clientY - rect.top) * (canvas.height / rect.height));
    if (x < 0 || y < 0 || x >= canvas.width || y >= canvas.height) return;
    var pixel = ctx.getImageData(x, y, 1, 1).data;
    $('#rVal').val(pixel[0]);
    $('#gVal').val(pixel[1]);
    $('#bVal').val(pixel[2]);
    $('#rgbVal').val(pixel[0]+','+pixel[1]+','+pixel[2]);
    $('#rgbaVal').val(pixel[0]+','+pixel[1]+','+pixel[2]+','+pixel[3]);
    var dColor = pixel[2] + 256 * pixel[1] + 65536 * pixel[0];
    var hex = '#' + ('000000' + dColor.toString(16)).slice(-6);
    $('#hexVal').val(hex);

    // обновляем блок выбранного цвета
    var alpha = (pixel[3] / 255).toFixed(2);
    var rgbaCss = 'rgba('+pixel[0]+','+pixel[1]+','+pixel[2]+','+alpha+')';
    $('#selectedColor').css({
        'background-color': rgbaCss,
        'color': (pixel[0]*0.299 + pixel[1]*0.587 + pixel[2]*0.114) > 186 ? '#000' : '#fff'
    }).text(hex + (alpha < 1 ? ' / a='+alpha : ''));
});

});
</script>

</body>
</html>